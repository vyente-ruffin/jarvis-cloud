# Redis Stack - Azure Container App
# Deploy with: az containerapp create --resource-group <rg> --yaml azure/redis.yaml
#
# Note: Uses internal ingress only - not exposed to internet
# Other containers access via: redis.internal.<env-id>.<region>.azurecontainerapps.io
# Redis Stack includes vector search capability (RediSearch)

properties:
  configuration:
    ingress:
      external: false
      targetPort: 6379
      transport: tcp
  template:
    containers:
      - name: redis
        image: redis/redis-stack:latest
        resources:
          cpu: 0.5
          memory: 1Gi
    scale:
      minReplicas: 1
      maxReplicas: 1
